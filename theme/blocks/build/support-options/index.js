(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,s=window.wp.blockEditor,o=window.wp.components,a=window.ReactJSXRuntime;(0,e.registerBlockType)("wp-easysoft/support-options",{edit:function({attributes:e,setAttributes:l}){const{title:n,description:i,options:r}=e,c=(0,s.useBlockProps)({className:"py-16"}),p=(e,t,s)=>{const o=[...r];o[e][t]=s,l({options:o})},u=(e,t,s)=>{const o=[...r],a=[...o[e].features];a[t]=s,o[e].features=a,l({options:o})},x=(e,t)=>{const s=[...r],[o]=s.splice(e,1);s.splice(t,0,o),l({options:s})},d=e=>{switch(e){case"primary":return"btn-primary text-white hover:shadow-lg";case"success":return"bg-green-500 hover:bg-green-600 text-white";case"outline":return"border border-primary text-primary hover:bg-primary-light";default:return"btn-primary text-white"}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.InspectorControls,{children:(0,a.jsx)(o.PanelBody,{title:(0,t.__)("Support Options","wp-easysoft"),initialOpen:!0,children:(0,a.jsxs)("div",{className:"block-editor-support-options-controls",children:[r.map((e,s)=>(0,a.jsxs)("div",{className:"support-option-control",style:{marginBottom:"25px",padding:"15px",border:"1px solid #e0e0e0",borderRadius:"4px"},children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,a.jsxs)("strong",{children:[(0,t.__)("Option","wp-easysoft")," ",s+1,": ",e.title]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[s>0&&(0,a.jsx)(o.Button,{isSmall:!0,onClick:()=>x(s,s-1),icon:"arrow-up",label:(0,t.__)("Move up","wp-easysoft")}),s<r.length-1&&(0,a.jsx)(o.Button,{isSmall:!0,onClick:()=>x(s,s+1),icon:"arrow-down",label:(0,t.__)("Move down","wp-easysoft")}),r.length>1&&(0,a.jsx)(o.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const t=r.filter((t,s)=>s!==e);l({options:t})})(s),label:(0,t.__)("Remove","wp-easysoft"),children:(0,t.__)("Remove","wp-easysoft")})]})]}),(0,a.jsx)(o.TextControl,{label:(0,t.__)("Icon Class","wp-easysoft"),value:e.icon,onChange:e=>p(s,"icon",e),help:(0,t.__)("Font Awesome icon class (e.g., fas fa-ticket-alt)","wp-easysoft")}),(0,a.jsx)(o.TextControl,{label:(0,t.__)("Title","wp-easysoft"),value:e.title,onChange:e=>p(s,"title",e)}),(0,a.jsx)(o.TextControl,{label:(0,t.__)("Description","wp-easysoft"),value:e.description,onChange:e=>p(s,"description",e),multiline:!0}),(0,a.jsx)(o.TextControl,{label:(0,t.__)("Button Text","wp-easysoft"),value:e.buttonText,onChange:e=>p(s,"buttonText",e)}),(0,a.jsx)(o.TextControl,{label:(0,t.__)("Button URL","wp-easysoft"),value:e.buttonURL,onChange:e=>p(s,"buttonURL",e)}),(0,a.jsx)(o.SelectControl,{label:(0,t.__)("Button Style","wp-easysoft"),value:e.buttonStyle,options:[{label:(0,t.__)("Primary","wp-easysoft"),value:"primary"},{label:(0,t.__)("Success","wp-easysoft"),value:"success"},{label:(0,t.__)("Outline","wp-easysoft"),value:"outline"}],onChange:e=>p(s,"buttonStyle",e)}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"components-base-control__label",children:(0,t.__)("Features","wp-easysoft")}),e.features.map((n,i)=>(0,a.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,a.jsx)(o.TextControl,{value:n,onChange:e=>u(s,i,e),placeholder:(0,t.__)("Feature text...","wp-easysoft"),style:{flex:1}}),e.features.length>1&&(0,a.jsx)(o.Button,{isDestructive:!0,isSmall:!0,onClick:()=>((e,t)=>{const s=[...r],o=s[e].features.filter((e,s)=>s!==t);s[e].features=o,l({options:s})})(s,i),label:(0,t.__)("Remove feature","wp-easysoft"),children:"Ã—"})]},i)),(0,a.jsx)(o.Button,{isSmall:!0,onClick:()=>(e=>{const s=[...r],o=[...s[e].features,(0,t.__)("New Feature","wp-easysoft")];s[e].features=o,l({options:s})})(s),className:"mt-2",children:(0,t.__)("Add Feature","wp-easysoft")})]})]},s)),(0,a.jsx)(o.Button,{isPrimary:!0,onClick:()=>{const e=[...r,{title:(0,t.__)("New Support Option","wp-easysoft"),icon:"fas fa-question-circle",description:(0,t.__)("Description of this support option","wp-easysoft"),features:[(0,t.__)("Feature 1","wp-easysoft"),(0,t.__)("Feature 2","wp-easysoft"),(0,t.__)("Feature 3","wp-easysoft")],buttonText:(0,t.__)("Learn More","wp-easysoft"),buttonURL:"#",buttonStyle:"primary",buttonAction:"link"}];l({options:e})},className:"support-add-option-button",style:{width:"100%"},children:(0,t.__)("Add Support Option","wp-easysoft")})]})})}),(0,a.jsx)("section",{...c,children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4",children:[(0,a.jsxs)("div",{className:"mb-12 text-center",children:[(0,a.jsx)(s.RichText,{tagName:"h2",className:"text-primary mb-4 text-3xl font-bold md:text-4xl",value:n,onChange:e=>l({title:e}),placeholder:(0,t.__)("Choose Your Support Channel","wp-easysoft"),allowedFormats:[]}),(0,a.jsx)(s.RichText,{tagName:"p",className:"mx-auto max-w-2xl text-xl text-gray-600",value:i,onChange:e=>l({description:e}),placeholder:(0,t.__)("Different ways to get help...","wp-easysoft"),allowedFormats:[]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4",children:r.map((e,o)=>(0,a.jsxs)("div",{className:"support-card rounded-xl bg-white p-8 text-center shadow-lg",children:[(0,a.jsx)("div",{className:"bg-primary-light mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-full",children:(0,a.jsx)("i",{className:`${e.icon} text-primary text-2xl`})}),(0,a.jsx)(s.RichText,{tagName:"h3",className:"text-primary mb-3 text-xl font-bold",value:e.title,onChange:e=>p(o,"title",e),placeholder:(0,t.__)("Support Option Title","wp-easysoft"),allowedFormats:[]}),(0,a.jsx)(s.RichText,{tagName:"p",className:"mb-6 text-gray-600",value:e.description,onChange:e=>p(o,"description",e),placeholder:(0,t.__)("Support option description...","wp-easysoft"),allowedFormats:[]}),(0,a.jsx)("ul",{className:"mb-6 space-y-2 text-left text-sm text-gray-600",children:e.features.map((e,l)=>(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-check text-green-500"}),(0,a.jsx)(s.RichText,{tagName:"span",value:e,onChange:e=>u(o,l,e),placeholder:(0,t.__)("Feature...","wp-easysoft"),allowedFormats:[]})]},l))}),"link"===e.buttonAction?(0,a.jsx)("a",{href:e.buttonURL,className:`${d(e.buttonStyle)} inline-block rounded-lg px-6 py-3 font-medium transition`,children:(0,a.jsx)(s.RichText,{tagName:"span",value:e.buttonText,onChange:e=>p(o,"buttonText",e),placeholder:(0,t.__)("Button text","wp-easysoft"),allowedFormats:[]})}):(0,a.jsx)("button",{onClick:()=>console.log(`Action for ${e.title}`),className:`${d(e.buttonStyle)} rounded-lg px-6 py-3 font-medium transition`,children:(0,a.jsx)(s.RichText,{tagName:"span",value:e.buttonText,onChange:e=>p(o,"buttonText",e),placeholder:(0,t.__)("Button text","wp-easysoft"),allowedFormats:[]})})]},o))})]})})]})},save:()=>null})})();