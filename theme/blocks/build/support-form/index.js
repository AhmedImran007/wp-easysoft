(()=>{"use strict";const e=window.wp.blocks,s=window.wp.i18n,t=window.wp.blockEditor,o=window.wp.components,l=window.ReactJSXRuntime;(0,e.registerBlockType)("wp-easysoft/support-form",{edit:function({attributes:e,setAttributes:a}){const{title:r,description:i,cf7Shortcode:n,proTips:d,responseTimes:c,proSupportText:p,proUpgradeLink:x}=e,m=(0,t.useBlockProps)({className:"py-16 bg-white"}),h=(e,s,t)=>{const o=[...c];o[e][s]=t,a({responseTimes:o})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(t.InspectorControls,{children:[(0,l.jsx)(o.PanelBody,{title:(0,s.__)("Contact Form 7","wp-easysoft"),initialOpen:!0,children:(0,l.jsx)(o.TextareaControl,{label:(0,s.__)("CF7 Shortcode","wp-easysoft"),value:n,onChange:e=>a({cf7Shortcode:e}),help:(0,s.__)('Paste your Contact Form 7 shortcode here, e.g., [contact-form-7 id="123" title="Support Ticket"]',"wp-easysoft"),rows:3})}),(0,l.jsx)(o.PanelBody,{title:(0,s.__)("Pro Tips","wp-easysoft"),initialOpen:!1,children:(0,l.jsxs)("div",{className:"block-editor-tips-controls",children:[d.map((e,t)=>(0,l.jsxs)("div",{className:"tip-control",style:{marginBottom:"10px",padding:"10px",border:"1px solid #e0e0e0",borderRadius:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,l.jsx)(o.TextControl,{value:e,onChange:e=>((e,s)=>{const t=[...d];t[e]=s,a({proTips:t})})(t,e),placeholder:(0,s.__)("Tip text...","wp-easysoft"),style:{flex:1}}),d.length>1&&(0,l.jsx)(o.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const s=d.filter((s,t)=>t!==e);a({proTips:s})})(t),label:(0,s.__)("Remove tip","wp-easysoft"),children:"×"})]},t)),(0,l.jsx)(o.Button,{isSecondary:!0,onClick:()=>{const e=[...d,(0,s.__)("New tip...","wp-easysoft")];a({proTips:e})},className:"tips-add-button",style:{width:"100%"},children:(0,s.__)("Add Pro Tip","wp-easysoft")})]})}),(0,l.jsx)(o.PanelBody,{title:(0,s.__)("Response Times","wp-easysoft"),initialOpen:!1,children:(0,l.jsxs)("div",{className:"block-editor-response-times-controls",children:[c.map((e,t)=>(0,l.jsxs)("div",{className:"response-time-control",style:{marginBottom:"10px",padding:"10px",border:"1px solid #e0e0e0",borderRadius:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,l.jsx)(o.TextControl,{label:(0,s.__)("Priority","wp-easysoft"),value:e.priority,onChange:e=>h(t,"priority",e),style:{flex:1}}),(0,l.jsx)(o.TextControl,{label:(0,s.__)("Time","wp-easysoft"),value:e.time,onChange:e=>h(t,"time",e),style:{flex:1}}),c.length>1&&(0,l.jsx)(o.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const s=c.filter((s,t)=>t!==e);a({responseTimes:s})})(t),label:(0,s.__)("Remove","wp-easysoft"),style:{marginTop:"20px"},children:"×"})]},t)),(0,l.jsx)(o.Button,{isSecondary:!0,onClick:()=>{const e=[...c,{priority:(0,s.__)("New","wp-easysoft"),time:(0,s.__)("Within ...","wp-easysoft")}];a({responseTimes:e})},style:{width:"100%"},children:(0,s.__)("Add Response Time","wp-easysoft")})]})}),(0,l.jsxs)(o.PanelBody,{title:(0,s.__)("PRO Support","wp-easysoft"),initialOpen:!1,children:[(0,l.jsx)(o.TextControl,{label:(0,s.__)("PRO Support Text","wp-easysoft"),value:p,onChange:e=>a({proSupportText:e}),multiline:!0,rows:3}),(0,l.jsx)(o.TextControl,{label:(0,s.__)("Upgrade Link","wp-easysoft"),value:x,onChange:e=>a({proUpgradeLink:e})})]})]}),(0,l.jsx)("section",{...m,children:(0,l.jsxs)("div",{className:"mx-auto max-w-4xl px-4",children:[(0,l.jsxs)("div",{className:"mb-12 text-center",children:[(0,l.jsx)(t.RichText,{tagName:"h2",className:"text-primary mb-4 text-3xl font-bold md:text-4xl",value:r,onChange:e=>a({title:e}),placeholder:(0,s.__)("Submit a Support Ticket","wp-easysoft"),allowedFormats:[]}),(0,l.jsx)(t.RichText,{tagName:"p",className:"text-xl text-gray-600",value:i,onChange:e=>a({description:e}),placeholder:(0,s.__)("Fill out the form below...","wp-easysoft"),allowedFormats:[]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:n?(0,l.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-8",children:[(0,l.jsxs)("div",{className:"mb-4 text-center",children:[(0,l.jsx)("i",{className:"fas fa-check-circle mb-4 text-4xl text-green-500"}),(0,l.jsx)("h3",{className:"mb-2 text-xl font-bold",children:(0,s.__)("Contact Form 7 Shortcode Added","wp-easysoft")}),(0,l.jsx)("p",{className:"text-gray-600",children:(0,s.__)("Your Contact Form 7 form will be displayed here on the frontend.","wp-easysoft")})]}),(0,l.jsx)("div",{className:"rounded border border-gray-300 bg-white p-4",children:(0,l.jsx)("code",{className:"text-sm break-all text-gray-700",children:n})})]}):(0,l.jsx)("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-8",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("i",{className:"fas fa-exclamation-triangle mb-4 text-4xl text-yellow-500"}),(0,l.jsx)("h3",{className:"mb-2 text-xl font-bold",children:(0,s.__)("No Form Shortcode","wp-easysoft")}),(0,l.jsx)("p",{className:"mb-4 text-gray-600",children:(0,s.__)("Please add a Contact Form 7 shortcode in the block settings.","wp-easysoft")}),(0,l.jsx)("div",{className:"inline-block rounded border border-gray-200 bg-white p-3 text-sm text-gray-500",children:(0,l.jsx)("code",{children:'[contact-form-7 id="123" title="Support Ticket"]'})})]})})}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-6",children:[(0,l.jsxs)("h3",{className:"mb-3 font-semibold text-blue-900",children:[(0,l.jsx)("i",{className:"fas fa-lightbulb mr-2"}),(0,s.__)("Pro Tips","wp-easysoft")]}),(0,l.jsx)("ul",{className:"space-y-2 text-sm text-blue-800",children:d.map((e,s)=>(0,l.jsxs)("li",{children:["• ",e]},s))})]}),(0,l.jsxs)("div",{className:"rounded-lg border border-green-200 bg-green-50 p-6",children:[(0,l.jsxs)("h3",{className:"mb-3 font-semibold text-green-900",children:[(0,l.jsx)("i",{className:"fas fa-clock mr-2"}),(0,s.__)("Response Times","wp-easysoft")]}),(0,l.jsx)("ul",{className:"space-y-2 text-sm text-green-800",children:c.map((e,s)=>(0,l.jsxs)("li",{children:[(0,l.jsxs)("strong",{children:[e.priority,":"]})," ",e.time]},s))})]}),(0,l.jsxs)("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-6",children:[(0,l.jsxs)("h3",{className:"mb-3 font-semibold text-yellow-900",children:[(0,l.jsx)("i",{className:"fas fa-star mr-2"}),(0,s.__)("PRO Support","wp-easysoft")]}),(0,l.jsx)(t.RichText,{tagName:"p",className:"mb-3 text-sm text-yellow-800",value:p,onChange:e=>a({proSupportText:e}),placeholder:(0,s.__)("PRO users get priority support...","wp-easysoft"),allowedFormats:[]}),(0,l.jsx)("a",{href:x,className:"text-sm font-medium text-yellow-700 hover:underline",children:(0,s.__)("Upgrade to PRO →","wp-easysoft")})]})]})]})]})})]})},save:()=>null})})();