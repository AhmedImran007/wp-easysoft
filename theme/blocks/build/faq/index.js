(()=>{"use strict";const e=window.wp.blocks,s=window.wp.i18n,o=window.wp.blockEditor,a=window.wp.components,t=window.ReactJSXRuntime;(0,e.registerBlockType)("wp-easysoft/faq",{edit:function({attributes:e,setAttributes:n}){const{title:l,description:i,faqs:r,accordionMode:c}=e,d=(0,o.useBlockProps)({className:"py-16"}),p=(e,s,o)=>{const a=[...r];a[e][s]=o,n({faqs:a})},w=e=>{const s=[...r];s[e].open=!s[e].open,n({faqs:s})},m=(e,s)=>{const o=[...r],[a]=o.splice(e,1);o.splice(s,0,a),n({faqs:o})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.InspectorControls,{children:[(0,t.jsx)(a.PanelBody,{title:(0,s.__)("Settings","wp-easysoft"),initialOpen:!0,children:(0,t.jsx)(a.ToggleControl,{label:(0,s.__)("Accordion Mode","wp-easysoft"),help:(0,s.__)("When enabled, only one FAQ can be open at a time","wp-easysoft"),checked:c,onChange:e=>n({accordionMode:e})})}),(0,t.jsx)(a.PanelBody,{title:(0,s.__)("FAQ Items","wp-easysoft"),initialOpen:!1,children:(0,t.jsxs)("div",{className:"block-editor-faq-controls",children:[r.map((e,o)=>(0,t.jsxs)("div",{className:"faq-control",style:{marginBottom:"20px",padding:"15px",border:"1px solid #e0e0e0",borderRadius:"4px"},children:[(0,t.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,t.jsxs)("strong",{children:[(0,s.__)("FAQ","wp-easysoft")," ",o+1]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(a.Button,{isSmall:!0,onClick:()=>w(o),icon:e.open?"arrow-up":"arrow-down",label:e.open?(0,s.__)("Collapse","wp-easysoft"):(0,s.__)("Expand","wp-easysoft")}),o>0&&(0,t.jsx)(a.Button,{isSmall:!0,onClick:()=>m(o,o-1),icon:"arrow-up",label:(0,s.__)("Move up","wp-easysoft")}),o<r.length-1&&(0,t.jsx)(a.Button,{isSmall:!0,onClick:()=>m(o,o+1),icon:"arrow-down",label:(0,s.__)("Move down","wp-easysoft")}),r.length>1&&(0,t.jsx)(a.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const s=r.filter((s,o)=>o!==e);n({faqs:s})})(o),label:(0,s.__)("Remove","wp-easysoft"),children:(0,s.__)("Remove","wp-easysoft")})]})]}),(0,t.jsx)(a.TextControl,{label:(0,s.__)("Question","wp-easysoft"),value:e.question,onChange:e=>p(o,"question",e),placeholder:(0,s.__)("Enter question...","wp-easysoft")}),(0,t.jsx)(a.TextControl,{label:(0,s.__)("Answer","wp-easysoft"),value:e.answer,onChange:e=>p(o,"answer",e),multiline:!0,rows:4,placeholder:(0,s.__)("Enter answer...","wp-easysoft")})]},o)),(0,t.jsx)(a.Button,{isPrimary:!0,onClick:()=>{const e=[...r,{question:(0,s.__)("New question?","wp-easysoft"),answer:(0,s.__)("Answer to the question...","wp-easysoft"),open:!1}];n({faqs:e})},className:"faq-add-button",style:{width:"100%"},children:(0,s.__)("Add FAQ Item","wp-easysoft")})]})})]}),(0,t.jsx)("section",{...d,children:(0,t.jsxs)("div",{className:"mx-auto max-w-4xl px-4",children:[(0,t.jsxs)("div",{className:"mb-12 text-center",children:[(0,t.jsx)(o.RichText,{tagName:"h2",className:"text-primary mb-4 text-3xl font-bold md:text-4xl",value:l,onChange:e=>n({title:e}),placeholder:(0,s.__)("Frequently Asked Questions","wp-easysoft"),allowedFormats:[]}),(0,t.jsx)(o.RichText,{tagName:"p",className:"text-xl text-gray-600",value:i,onChange:e=>n({description:e}),placeholder:(0,s.__)("Quick answers to common support questions","wp-easysoft"),allowedFormats:[]})]}),(0,t.jsx)("div",{className:"space-y-4",children:r.map((e,a)=>(0,t.jsxs)("div",{className:"faq-item rounded-lg bg-white p-6 shadow-md",children:[(0,t.jsxs)("button",{className:"text-primary hover:text-primary-light focus:ring-primary flex w-full items-center justify-between text-left font-semibold transition-colors focus:rounded-md focus:ring-2 focus:ring-offset-2 focus:outline-none",onClick:()=>w(a),"aria-expanded":e.open,"aria-controls":`faq-answer-${a}`,children:[(0,t.jsx)(o.RichText,{tagName:"span",value:e.question,onChange:e=>p(a,"question",e),placeholder:(0,s.__)("FAQ question...","wp-easysoft"),allowedFormats:[]}),(0,t.jsx)("i",{className:"fas fa-chevron-down transition-transform duration-300 "+(e.open?"rotate-180":""),"aria-hidden":"true"})]}),(0,t.jsx)("div",{id:`faq-answer-${a}`,className:"overflow-hidden transition-all duration-300 "+(e.open?"mt-4 max-h-[1000px] opacity-100":"max-h-0 opacity-0"),"aria-hidden":!e.open,role:"region","aria-labelledby":`faq-question-${a}`,children:(0,t.jsx)(o.RichText,{tagName:"div",className:"text-gray-600",value:e.answer,onChange:e=>p(a,"answer",e),placeholder:(0,s.__)("FAQ answer...","wp-easysoft"),allowedFormats:[]})})]},a))})]})})]})},save:()=>null})})();