(()=>{"use strict";const e=window.wp.blocks,a=window.wp.i18n,s=window.wp.blockEditor,t=window.wp.components,o=window.ReactJSXRuntime;(0,e.registerBlockType)("wp-easysoft/testimonials",{edit:function({attributes:e,setAttributes:l}){const{title:n,description:i,testimonials:r,layout:c,backgroundColor:m}=e,d=(0,s.useBlockProps)({className:`py-16 ${m}`}),x=(e,a,s)=>{const t=[...r];t[e][a]=s,l({testimonials:t})},p=(e,a)=>{const s=[...r],[t]=s.splice(e,1);s.splice(a,0,t),l({testimonials:s})},y=e=>{const a=[];for(let s=1;s<=5;s++)a.push((0,o.jsx)("i",{className:"fas fa-star "+(s<=e?"text-yellow-400":"text-gray-300")},s));return a};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.InspectorControls,{children:[(0,o.jsxs)(t.PanelBody,{title:(0,a.__)("Settings","wp-easysoft"),initialOpen:!0,children:[(0,o.jsx)(t.SelectControl,{label:(0,a.__)("Layout","wp-easysoft"),value:c,options:[{label:(0,a.__)("Grid","wp-easysoft"),value:"grid"},{label:(0,a.__)("Carousel","wp-easysoft"),value:"carousel"},{label:(0,a.__)("Masonry","wp-easysoft"),value:"masonry"}],onChange:e=>l({layout:e})}),(0,o.jsx)(t.SelectControl,{label:(0,a.__)("Background Color","wp-easysoft"),value:m,options:[{label:(0,a.__)("White","wp-easysoft"),value:"bg-white"},{label:(0,a.__)("Gray","wp-easysoft"),value:"bg-gray-50"},{label:(0,a.__)("Primary","wp-easysoft"),value:"bg-primary-50"}],onChange:e=>l({backgroundColor:e})})]}),(0,o.jsx)(t.PanelBody,{title:(0,a.__)("Testimonials","wp-easysoft"),initialOpen:!1,children:(0,o.jsxs)("div",{className:"block-editor-testimonials-controls",children:[r.map((e,s)=>(0,o.jsxs)("div",{className:"testimonial-control",style:{marginBottom:"20px",padding:"15px",border:"1px solid #e0e0e0",borderRadius:"4px"},children:[(0,o.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,o.jsxs)("strong",{children:[(0,a.__)("Testimonial","wp-easysoft")," ",s+1]}),(0,o.jsxs)("div",{className:"flex gap-1",children:[s>0&&(0,o.jsx)(t.Button,{isSmall:!0,onClick:()=>p(s,s-1),icon:"arrow-up",label:(0,a.__)("Move up","wp-easysoft")}),s<r.length-1&&(0,o.jsx)(t.Button,{isSmall:!0,onClick:()=>p(s,s+1),icon:"arrow-down",label:(0,a.__)("Move down","wp-easysoft")}),r.length>1&&(0,o.jsx)(t.Button,{isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const a=r.filter((a,s)=>s!==e);l({testimonials:a})})(s),label:(0,a.__)("Remove","wp-easysoft"),children:(0,a.__)("Remove","wp-easysoft")})]})]}),(0,o.jsx)(t.TextControl,{label:(0,a.__)("Name","wp-easysoft"),value:e.name,onChange:e=>x(s,"name",e)}),(0,o.jsx)(t.TextControl,{label:(0,a.__)("Role","wp-easysoft"),value:e.role,onChange:e=>x(s,"role",e)}),(0,o.jsx)(t.TextControl,{label:(0,a.__)("Company","wp-easysoft"),value:e.company,onChange:e=>x(s,"company",e)}),(0,o.jsx)(t.TextControl,{label:(0,a.__)("Avatar URL","wp-easysoft"),value:e.avatar,onChange:e=>x(s,"avatar",e),help:(0,a.__)("Optional: URL for customer avatar image","wp-easysoft")}),(0,o.jsxs)("div",{className:"components-base-control",children:[(0,o.jsx)("label",{className:"components-base-control__label",children:(0,a.__)("Rating","wp-easysoft")}),(0,o.jsx)(t.RangeControl,{value:e.rating,onChange:e=>x(s,"rating",e),min:1,max:5}),(0,o.jsx)("div",{className:"mt-1 flex gap-1",children:y(e.rating)})]}),(0,o.jsx)(t.TextControl,{label:(0,a.__)("Testimonial Content","wp-easysoft"),value:e.content,onChange:e=>x(s,"content",e),multiline:!0,rows:3})]},s)),(0,o.jsx)(t.Button,{isPrimary:!0,onClick:()=>{const e=[...r,{name:(0,a.__)("New Customer","wp-easysoft"),role:(0,a.__)("Role","wp-easysoft"),company:(0,a.__)("Company","wp-easysoft"),content:(0,a.__)("Customer testimonial content...","wp-easysoft"),rating:5,avatar:""}];l({testimonials:e})},className:"testimonials-add-button",style:{width:"100%"},children:(0,a.__)("Add Testimonial","wp-easysoft")})]})})]}),(0,o.jsx)("section",{...d,children:(0,o.jsxs)("div",{className:"container mx-auto px-4",children:[(0,o.jsxs)("div",{className:"mb-12 text-center",children:[(0,o.jsx)(s.RichText,{tagName:"h2",className:"mb-4 text-3xl font-bold md:text-4xl",value:n,onChange:e=>l({title:e}),placeholder:(0,a.__)("What Our Customers Say","wp-easysoft"),allowedFormats:[]}),(0,o.jsx)(s.RichText,{tagName:"p",className:"mx-auto max-w-2xl text-xl text-gray-600",value:i,onChange:e=>l({description:e}),placeholder:(0,a.__)("Join thousands of satisfied WordPress users...","wp-easysoft"),allowedFormats:[]})]}),(0,o.jsx)("div",{className:"testimonials-grid "+("grid"===c?"grid gap-8 md:grid-cols-2 lg:grid-cols-3":"masonry"===c?"columns-1 gap-8 space-y-8 md:columns-2 lg:columns-3":"flex gap-6 overflow-x-auto pb-6"),children:r.map((e,t)=>(0,o.jsxs)("div",{className:`rounded-xl border border-gray-100 bg-white p-6 shadow-lg ${"carousel"===c?"min-w-[350px] flex-shrink-0":""} transition-all duration-300 hover:shadow-xl`,children:[(0,o.jsx)("div",{className:"mb-4 flex gap-1",children:y(e.rating)}),(0,o.jsx)(s.RichText,{tagName:"blockquote",className:"mb-6 text-lg leading-relaxed text-gray-700 italic",value:e.content,onChange:e=>x(t,"content",e),placeholder:(0,a.__)("Customer testimonial content...","wp-easysoft"),allowedFormats:[]}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"flex-shrink-0",children:e.avatar?(0,o.jsx)("img",{src:e.avatar,alt:e.name,className:"h-12 w-12 rounded-full object-cover"}):(0,o.jsx)("div",{className:"from-primary-500 to-secondary-500 flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-r font-bold text-white",children:e.name.charAt(0)})}),(0,o.jsxs)("div",{children:[(0,o.jsx)(s.RichText,{tagName:"div",className:"font-bold text-gray-900",value:e.name,onChange:e=>x(t,"name",e),placeholder:(0,a.__)("Customer name","wp-easysoft"),allowedFormats:[]}),(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,o.jsx)(s.RichText,{tagName:"span",value:e.role,onChange:e=>x(t,"role",e),placeholder:(0,a.__)("Role","wp-easysoft"),allowedFormats:[]}),e.company&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:" • "}),(0,o.jsx)(s.RichText,{tagName:"span",value:e.company,onChange:e=>x(t,"company",e),placeholder:(0,a.__)("Company","wp-easysoft"),allowedFormats:[]})]})]})]})]})]},t))}),"carousel"===c&&(0,o.jsx)("div",{className:"mt-6 text-center text-sm text-gray-500",children:(0,a.__)("← Scroll to see more testimonials →","wp-easysoft")})]})})]})},save:()=>null})})();